var gulp=require("gulp"),concat=require("gulp-concat"),clean=require("gulp-clean"),sass=require("gulp-sass"),minifyCSS=require("gulp-minify-css"),uglify=require("gulp-uglify");gulp.task("js",function(){gulp.src("*.js").pipe(concat("jquery.flashMessage.min.js")).pipe(uglify()).on("error",function(s){console.error(s.name+": "+s.message+" in "+s.fileName)}).pipe(gulp.dest(""))}),gulp.task("scss",function(){gulp.src("*.scss").pipe(concat("jquery.flashMessage.scss")).pipe(sass().on("error",sass.logError)).pipe(gulp.dest("")).pipe(concat("jquery.flashMessage.min.css")).pipe(minifyCSS()).pipe(gulp.dest(""))}),gulp.task("watch",function(){gulp.watch("*.js",["js"]),gulp.watch("*.scss",["scss"])}),gulp.task("build",["js","scss"]),function(s){var e={},i=function(i){var a,n=new s.Deferred;return i.append('<div class="j-flash-message j-flash-message_type_'+e.status+'"><div class="j-flash-message__in"></div>'+e.message+"</div>"),a=s(".j-flash-message"),e.styles&&a.css(e.styles),a.animate({right:20},500,function(){!function(s){window.setTimeout(function(){s.animate({right:-310},500,function(){s.remove(),n.resolve()})},2500)}(a)}),n};s.fn.flashMessage=function(a){return e=s.extend({message:"",status:"ok",styles:{}},a),s(this).each(function(){i(s(this))}),this}}(jQuery);